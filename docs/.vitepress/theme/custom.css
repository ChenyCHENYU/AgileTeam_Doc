/* VitePress 宽屏优化 */

:root {
  /* 设置整体最大宽度 */
  --vp-layout-max-width: 1920px;
}

/* ===== 核心宽屏设置 ===== */

/* 无侧边栏页面（如首页） */
.VPDoc:not(.has-sidebar) .container {
  max-width: 1584px !important;
}

.VPDoc:not(.has-sidebar) .content {
  max-width: 1264px !important;
}

/* 有右侧目录的文档页面 - 关键！大幅扩展中间内容区域 */
.VPDoc.has-aside .content-container {
  max-width: 1600px !important;  /* 从1168px大幅扩展到1600px */
}

/* 有侧边栏无右侧目录的页面 */
.VPDoc.has-sidebar:not(.has-aside) .content {
  max-width: 1600px !important;  /* 大幅扩展 */
}

/* 直接扩展文档内容区域 - 强制覆盖VitePress默认限制 */
.VPDoc .content {
  max-width: 1600px !important;
}

/* 确保内容容器能够利用更多空间 */
.vp-doc {
  max-width: none !important;  /* 强制移除内容的宽度限制 */
  width: 100% !important;      /* 强制充分利用容器宽度 */
}

/* ===== 温和修复：1440-1920px区间微调 ===== */
@media (min-width: 1440px) and (max-width: 1920px) {
  /* 策略：稍微减小内容宽度，给左侧导航让出一些空间 */
  .VPDoc.has-aside .content-container {
    max-width: min(1400px, 80vw) !important;  /* 比原来的1600px小200px */
  }
  
  .VPDoc.has-sidebar:not(.has-aside) .content {
    max-width: min(1400px, 80vw) !important;  /* 比原来的1600px小200px */
  }
  
  .VPDoc .content {
    max-width: min(1400px, 80vw) !important;  /* 比原来的1600px小200px */
  }
  
  /* 确保左侧导航至少有最小宽度保护 */
  .VPSidebar {
    min-width: 200px !important;  /* 确保最小200px可见 */
    flex-shrink: 0 !important;    /* 不允许被完全挤压 */
  }
}

/* ===== 关键修复：1920px精确处理 ===== */
/* 让1920px的表现与1919px完全一致 */
@media (min-width: 1920px) and (max-width: 1920px) {
  /* 强制使用1919px时的布局参数 */
  :root {
    --vp-layout-max-width: 1919px;
  }
  
  .VPDoc:not(.has-sidebar) .container {
    max-width: 1583px !important;  /* 比1584少1px */
  }
  
  .VPDoc:not(.has-sidebar) .content {
    max-width: 1263px !important;  /* 比1264少1px */
  }
  
  .VPDoc.has-aside .content-container {
    max-width: 1599px !important;  /* 比1600少1px */
  }
  
  .VPDoc.has-sidebar:not(.has-aside) .content {
    max-width: 1599px !important;  /* 比1600少1px */
  }
  
  .VPDoc .content {
    max-width: 1599px !important;  /* 比1600少1px */
  }
}

/* ===== 优化的分区间动态响应 - 确保内容居中对齐 ===== */

/* 1921px-2560px: 2K屏幕过渡区间 */
@media (min-width: 1921px) and (max-width: 2560px) {
  /* 关键：确保内容居中，左右等宽边距 */
  .VPDoc.has-aside .content-container {
    max-width: min(75vw, 1900px) !important;  /* 75%视口宽度，最大1900px */
    margin: 0 auto !important;                /* 居中对齐 */
    padding: 0 48px !important;               /* 左右等宽内边距 */
  }
  
  .VPDoc.has-sidebar:not(.has-aside) .content {
    max-width: min(80vw, 2000px) !important;  /* 无右侧目录时更宽 */
    margin: 0 auto !important;
    padding: 0 48px !important;
  }
  
  .VPDoc .content {
    max-width: min(75vw, 1900px) !important;
    margin: 0 auto !important;
    padding: 0 48px !important;
  }
}

/* 2561px-3840px: 高分辨率过渡区间 */
@media (min-width: 2561px) and (max-width: 3840px) {
  .VPDoc.has-aside .content-container {
    max-width: min(70vw, 2400px) !important;  /* 70%视口宽度，避免过宽 */
    margin: 0 auto !important;
    padding: 0 64px !important;               /* 更大的左右边距 */
  }
  
  .VPDoc.has-sidebar:not(.has-aside) .content {
    max-width: min(75vw, 2600px) !important;
    margin: 0 auto !important;
    padding: 0 64px !important;
  }
  
  .VPDoc .content {
    max-width: min(70vw, 2400px) !important;
    margin: 0 auto !important;
    padding: 0 64px !important;
  }
}

/* 3841px+: 4K及以上超高分辨率 */
@media (min-width: 3841px) {
  .VPDoc.has-aside .content-container {
    max-width: min(65vw, 2800px) !important;  /* 4K下收紧比例，保持阅读体验 */
    margin: 0 auto !important;
    padding: 0 80px !important;               /* 4K下更大边距 */
  }
  
  .VPDoc.has-sidebar:not(.has-aside) .content {
    max-width: min(70vw, 3000px) !important;
    margin: 0 auto !important;
    padding: 0 80px !important;
  }
  
  .VPDoc .content {
    max-width: min(65vw, 2800px) !important;
    margin: 0 auto !important;
    padding: 0 80px !important;
  }
}

/* 确保头部导航不受影响，保持VitePress原生样式 */
@media (min-width: 1921px) {
  :root {
    --vp-layout-max-width: 100vw;
  }
  
  /* 头部导航保持合理宽度和居中 */
  .VPNavBar .container {
    max-width: min(2400px, 90vw) !important;
    margin: 0 auto !important;
    padding: 0 32px !important;
  }
  
  /* 页脚同样处理 */
  .VPFooter .container {
    max-width: min(2400px, 90vw) !important;
    margin: 0 auto !important;
    padding: 0 32px !important;
  }
  
  /* 无侧边栏页面也保持居中 */
  .VPDoc:not(.has-sidebar) .container {
    max-width: min(2000px, 85vw) !important;
    margin: 0 auto !important;
  }
  
  .VPDoc:not(.has-sidebar) .content {
    max-width: min(1600px, 70vw) !important;
    margin: 0 auto !important;
    padding: 0 48px !important;
  }
  
  /* 侧边栏和右侧目录保持合理宽度，不要过度增长 */
  .VPSidebar {
    min-width: clamp(240px, 10vw, 300px) !important;
  }
  
  .VPDocAside {
    min-width: clamp(224px, 8vw, 280px) !important;
  }
}

/* ===== 导航和页脚宽度适配 ===== */

/* 导航栏宽度适配 */
.VPNavBar .container {
  max-width: var(--vp-layout-max-width);
  margin: 0 auto;
}

/* 页脚宽度适配 */
.VPFooter .container {
  max-width: var(--vp-layout-max-width);
  margin: 0 auto;
}

/* ===== 内容区域样式优化 ===== */

/* 文档内容基础样式 */
.vp-doc {
  font-size: 16px;
  line-height: 1.6;
}

/* 代码块优化 - 充分利用宽度 */
.vp-doc div[class*="language-"] {
  margin: 16px 0;
  border-radius: 8px;
  overflow: hidden;
}

.vp-doc pre {
  margin: 0;
  padding: 24px;
}

/* 表格优化 - 关键！让表格能够利用全部宽度 */
.vp-doc table {
  display: table;
  width: 100%;
  margin: 24px 0;
  border-collapse: collapse;
  overflow-x: auto;
  min-width: 100%;
}

.vp-doc th, .vp-doc td {
  padding: 8px 16px;
  border: 1px solid var(--vp-c-divider);
  text-align: left;
}

/* 确保表格容器能够撑满宽度 */
.vp-doc .table-container,
.vp-doc > div:has(table) {
  width: 100%;
  overflow-x: auto;
}

/* 图片优化 */
.vp-doc img {
  max-width: 100%;
  height: auto;
  border-radius: 8px;
  margin: 16px 0;
}

/* 段落和列表间距 */
.vp-doc p {
  margin: 16px 0;
}

.vp-doc ul, .vp-doc ol {
  margin: 16px 0;
  padding-left: 32px;
}

.vp-doc li {
  margin: 8px 0;
}

/* 标题间距 */
.vp-doc h1 {
  margin-top: 0;
  margin-bottom: 32px;
}

.vp-doc h2 {
  margin-top: 48px;
  margin-bottom: 24px;
}

.vp-doc h3 {
  margin-top: 32px;
  margin-bottom: 16px;
}

/* 响应式字体大小 */
@media (max-width: 767px) {
  .vp-doc {
    font-size: 14px;
  }
}

/* ===== 防止滚动条跳动 + 平滑滚动 ===== */
html {
  overflow-y: scroll;
  scroll-behavior: smooth;  
}

/* 确保所有滚动都是平滑的 */
* {
  scroll-behavior: smooth;
}

/* 为锚点跳转设置合适的偏移量，避免被固定导航栏遮挡 */
.vp-doc h1, 
.vp-doc h2, 
.vp-doc h3, 
.vp-doc h4, 
.vp-doc h5, 
.vp-doc h6 {
  scroll-margin-top: 80px;  /* 为固定导航栏预留空间 */
}