# @robot-admin/env-manager

> è®©ç¯å¢ƒå˜é‡ç®¡ç†ä¸å†æ˜¯å™©æ¢¦ âœ¨

ä¸“é—¨è§£å†³å¤šç¯å¢ƒå¼€å‘ä¸­é‚£äº›è®©äººæŠ“ç‹‚çš„é…ç½®é—®é¢˜ã€‚æ¯æ¬¡åˆ‡æ¢ç¯å¢ƒéƒ½è¦æ‰‹åŠ¨æ”¹ `.env` æ–‡ä»¶ï¼Ÿæµ‹è¯•é…ç½®è¯¯æ¨åˆ°ç”Ÿäº§ï¼Ÿè¿™ä¸ªå·¥å…·å°±æ˜¯ä¸ºäº†è¿™äº›çƒ¦æ¼è€Œç”Ÿçš„ã€‚

## ğŸ¯ ä¸ºä»€ä¹ˆè¦åšè¿™ä¸ªï¼Ÿ

å¤šç¯å¢ƒå¼€å‘ä¸­ç»å¸¸é‡åˆ°çš„ç—›ç‚¹ï¼š

- ğŸ˜¤ **ç¯å¢ƒé…ç½®æ··ä¹±**ï¼šdevã€testã€prod çš„ `.env` æ–‡ä»¶åˆ°å¤„éƒ½æ˜¯ï¼Œç»å¸¸ææ··
- ğŸ¤¦â€â™‚ï¸ **åˆ‡æ¢ç¯å¢ƒéº»çƒ¦**ï¼šæ¯æ¬¡æ‰‹åŠ¨æ”¹é…ç½®æ–‡ä»¶ï¼Œå®¹æ˜“å‡ºé”™è¿˜è´¹æ—¶é—´
- ğŸ˜®â€ğŸ’¨ **å›¢é˜Ÿåä½œå›°éš¾**ï¼šæ¯ä¸ªäººçš„ç¯å¢ƒé…ç½®éƒ½ä¸ä¸€æ ·ï¼Œæ–°äººå…¥èŒé…ç½®åŠå¤©

å°±æƒ³ç€èƒ½ä¸èƒ½æœ‰ä¸ªå·¥å…·ï¼Œä¸€é”®åˆ‡æ¢ç¯å¢ƒï¼Œè®©é…ç½®ç®¡ç†å˜å¾—ç®€å•ä¸€äº›ã€‚

## âœ¨ ç°åœ¨çš„æ•ˆæœ

### ğŸ”§ ä¸€é”®ç¯å¢ƒåˆ‡æ¢

`env-manager dev` ä¸€è¡Œå‘½ä»¤ï¼Œå¼€å‘ç¯å¢ƒé…ç½®ç«‹å³ç”Ÿæ•ˆã€‚

### ğŸ¨ ç²¾ç¾çš„å‘½ä»¤è¡Œç•Œé¢

ç»Ÿä¸€çš„è¾“å‡ºæ ¼å¼ï¼Œæ“ä½œè¿›åº¦ä¸€ç›®äº†ç„¶ã€‚

### ğŸ›¡ï¸ æ™ºèƒ½é…ç½®åˆå¹¶

è‡ªåŠ¨åˆå¹¶é€šç”¨é…ç½®å’Œç¯å¢ƒç‰¹å®šé…ç½®ï¼Œé¿å…é‡å¤å®šä¹‰ã€‚

### ğŸ“ è§„èŒƒçš„ç›®å½•ç»“æ„

æ‰€æœ‰ç¯å¢ƒé…ç½®é›†ä¸­ç®¡ç†ï¼Œæ¸…æ™°æœ‰åºã€‚

## âœ¨ å·¥å…·ç‰¹æ€§

ç®€å•è¯´å°±æ˜¯åšäº†è¿™å‡ ä»¶äº‹ï¼š

- ğŸ¨ **ç²¾ç¾ç•Œé¢** - ç°ä»£åŒ–çš„å‘½ä»¤è¡Œè¾“å‡ºï¼Œæ“ä½œçŠ¶æ€æ¸…æ™°å±•ç¤º
- ğŸ”§ **æ™ºèƒ½åˆå¹¶** - è‡ªåŠ¨åˆå¹¶é€šç”¨é…ç½®å’Œç¯å¢ƒç‰¹å®šé…ç½®
- âš¡ **ä¸€é”®åˆ‡æ¢** - ç§’é€Ÿåˆ‡æ¢å¼€å‘ã€æµ‹è¯•ã€ç”Ÿäº§ç¯å¢ƒ
- ğŸ›¡ï¸ **å®‰å…¨å¯é ** - æ™ºèƒ½éªŒè¯ï¼Œé˜²æ­¢é…ç½®é”™è¯¯å’Œè¯¯æ“ä½œ
- ğŸ“ **è§„èŒƒç®¡ç†** - ç»Ÿä¸€çš„ç¯å¢ƒæ–‡ä»¶ç›®å½•ç»“æ„
- ğŸš€ **é›¶å­¦ä¹ æˆæœ¬** - çœ‹ä¸€çœ¼å°±ä¼šç”¨ï¼Œå›¢é˜Ÿæ¨å¹¿æ— éšœç¢

## ğŸš€ å¿«é€Ÿä½“éªŒ

### å®‰è£…ä¸ªåŒ…

```bash
npm install -g @robot-admin/env-manager
```

### è¯•è¯•çœ‹

```bash
# åˆå§‹åŒ–é¡¹ç›®
env-manager --init

# åˆ‡æ¢åˆ°å¼€å‘ç¯å¢ƒ
env-manager dev

# åˆ‡æ¢åˆ°ç”Ÿäº§ç¯å¢ƒ
env-manager prod

# çœ‹çœ‹æœ‰å“ªäº›ç¯å¢ƒ
env-manager --scan
```

## ğŸ­ æ•ˆæœå±•ç¤º

### åˆå§‹åŒ–é¡¹ç›®

```bash
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â–² Robot Admin â€” ç¯å¢ƒé…ç½®ç®¡ç†å·¥å…·

âš™ åˆå§‹åŒ–é¡¹ç›®
âœ“ .env åˆ›å»ºæˆåŠŸ
âœ“ .env.development åˆ›å»ºæˆåŠŸ
âœ“ .env.test åˆ›å»ºæˆåŠŸ
âœ“ .env.staging åˆ›å»ºæˆåŠŸ
âœ“ .env.production åˆ›å»ºæˆåŠŸ

å¿«é€Ÿå¼€å§‹
   env-manager dev     åˆ‡æ¢åˆ°å¼€å‘ç¯å¢ƒ
   env-manager prod    åˆ‡æ¢åˆ°ç”Ÿäº§ç¯å¢ƒ
   env-manager --scan  æ‰«æç¯å¢ƒæ–‡ä»¶
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

### ç¯å¢ƒåˆ‡æ¢

```bash
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
â–² Robot Admin â€” ç¯å¢ƒé…ç½®ç®¡ç†å·¥å…·

âš™ å¼€å§‹å¤„ç† production ç¯å¢ƒ
âœ“ é€šç”¨é…ç½® è¯»å–æˆåŠŸ
âœ“ ç¯å¢ƒé…ç½® è¯»å–æˆåŠŸ
âš™ åˆå¹¶é…ç½® å·²å®Œæˆ
âš™ å†™å…¥æ–‡ä»¶ å·²å®Œæˆ

â— ç¯å¢ƒåˆ‡æ¢ æˆåŠŸ
   ç¯å¢ƒ: PRODUCTION
   å˜é‡: 12 ä¸ª
   çŠ¶æ€: å·²ç”Ÿæ•ˆ
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
```

## ğŸ¨ è®¾è®¡ç»†èŠ‚

### ç›®å½•ç»“æ„

åˆ›å»ºåä¼šæ˜¯è¿™æ ·çš„ç»“æ„ï¼š

```
your-project/
â”œâ”€â”€ envs/
â”‚   â”œâ”€â”€ .env                    # é€šç”¨é…ç½®
â”‚   â”œâ”€â”€ .env.development        # å¼€å‘ç¯å¢ƒ
â”‚   â”œâ”€â”€ .env.test              # æµ‹è¯•ç¯å¢ƒ
â”‚   â”œâ”€â”€ .env.staging           # é¢„å‘å¸ƒç¯å¢ƒ
â”‚   â””â”€â”€ .env.production        # ç”Ÿäº§ç¯å¢ƒ
â””â”€â”€ .env                       # å½“å‰æ¿€æ´»çš„ç¯å¢ƒé…ç½®
```

### é…ç½®åˆå¹¶é€»è¾‘

- ç¯å¢ƒç‰¹å®šé…ç½® > é€šç”¨é…ç½®
- è‡ªåŠ¨æ·»åŠ æ³¨é‡Šè¯´æ˜å˜é‡æ¥æº
- ç”Ÿæˆçš„ `.env` æ–‡ä»¶æœ‰æ¸…æ™°çš„åˆ†åŒº

### ç•Œé¢è®¾è®¡

- ç»Ÿä¸€çš„åˆ†éš”çº¿è¾¹æ¡†
- å½©è‰²çŠ¶æ€æ˜¾ç¤ºï¼ˆæˆåŠŸç»¿è‰²ã€å¤„ç†é»„è‰²ã€é”™è¯¯çº¢è‰²ï¼‰
- æ“ä½œè¿›åº¦å®æ—¶å±•ç¤º

## ğŸ› ï¸ ä½¿ç”¨æ–¹å¼

### åŸºæœ¬å‘½ä»¤

```bash
# åˆ‡æ¢ç¯å¢ƒ
env-manager dev          # å¼€å‘ç¯å¢ƒ
env-manager test         # æµ‹è¯•ç¯å¢ƒ
env-manager staging      # é¢„å‘å¸ƒç¯å¢ƒ
env-manager prod         # ç”Ÿäº§ç¯å¢ƒ

# ç®¡ç†å‘½ä»¤
env-manager --init       # åˆå§‹åŒ–é¡¹ç›®
env-manager --scan       # æ‰«æç¯å¢ƒæ–‡ä»¶
env-manager --help       # å¸®åŠ©ä¿¡æ¯
```

### é¡¹ç›®é›†æˆ

**Package.json è„šæœ¬**

```json
{
  "scripts": {
    "env:dev": "env-manager dev",
    "env:prod": "env-manager prod",
    "dev": "env-manager dev && npm run start",
    "build:prod": "env-manager prod && npm run build"
  }
}
```

**GitHub Actions**

```yaml
- name: Setup Environment
  run: |
    npm install -g @robot-admin/env-manager
    env-manager production
    npm run build
```

### é…ç½®ç¤ºä¾‹

**envs/.envï¼ˆé€šç”¨é…ç½®ï¼‰**

```bash
APP_NAME=æˆ‘çš„é¡¹ç›®
APP_VERSION=1.0.0
DATABASE_TIMEOUT=30000
```

**envs/.env.developmentï¼ˆå¼€å‘ç¯å¢ƒï¼‰**

```bash
NODE_ENV=development
API_URL=http://localhost:3000
DEBUG=true
```

**envs/.env.productionï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰**

```bash
NODE_ENV=production
API_URL=https://api.myapp.com
DEBUG=false
```

## ğŸ”§ æŠ€æœ¯å®ç°

ä¸»è¦æŠ€æœ¯ç‚¹ï¼š

**æ–‡ä»¶æ“ä½œ**

- åŸºäº Node.js å†…ç½®æ¨¡å—ï¼Œé›¶å¤–éƒ¨ä¾èµ–
- æ™ºèƒ½æ–‡ä»¶æƒé™æ£€æŸ¥
- å®‰å…¨çš„æ–‡ä»¶è¯»å†™æ“ä½œ

**é…ç½®åˆå¹¶**

- è§£æ `.env` æ–‡ä»¶æ ¼å¼
- æŒ‰ä¼˜å…ˆçº§åˆå¹¶é…ç½®é¡¹
- è‡ªåŠ¨ç”Ÿæˆæ³¨é‡Šå’Œåˆ†åŒº

**ç•Œé¢æ¸²æŸ“**

- ANSI é¢œè‰²ç æ”¯æŒ
- ç»Ÿä¸€çš„è¾“å‡ºå—æ ¼å¼
- è·¨å¹³å°å…¼å®¹æ€§

## ğŸ¤” ä¸€äº›è¯´æ˜

**Q: æ”¯æŒå“ªäº›ç¯å¢ƒï¼Ÿ**  
A: devã€testã€stagingã€prodï¼Œè¿˜æ”¯æŒåˆ«åã€‚

**Q: ä¼šè¦†ç›–æˆ‘ç°æœ‰çš„ .env å—ï¼Ÿ**  
A: ä¼šçš„ï¼Œæ‰€ä»¥å»ºè®®å…ˆå¤‡ä»½æˆ–ç”¨ Git ç®¡ç†ã€‚

**Q: å¯ä»¥è‡ªå®šä¹‰ç¯å¢ƒæ–‡ä»¶ç›®å½•å—ï¼Ÿ**  
A: æ”¯æŒï¼Œé€šè¿‡ç¼–ç¨‹å¼ API å¯ä»¥æŒ‡å®šã€‚

**Q: å›¢é˜Ÿæ€ä¹ˆå…±äº«é…ç½®ï¼Ÿ**  
A: æŠŠ `envs/` ç›®å½•æäº¤åˆ° Gitï¼Œ`.env` æ–‡ä»¶åŠ åˆ° `.gitignore`ã€‚

**Q: å‡ºé”™äº†æ€ä¹ˆåŠï¼Ÿ**  
A: å·¥å…·æœ‰å®Œå–„çš„é”™è¯¯æç¤ºï¼ŒæŒ‰æç¤ºæ“ä½œå³å¯ã€‚

## ğŸ‰ ä¸€èµ·å®Œå–„

è¿™ä¸ªå·¥å…·è¿˜åœ¨æŒç»­ä¼˜åŒ–ä¸­ï¼Œå¦‚æœä½ ï¼š

- ğŸ› é‡åˆ°é—®é¢˜æˆ–å‘ç° bug
- ğŸ’¡ æœ‰å¥½çš„åŠŸèƒ½å»ºè®®
- ğŸ”§ æƒ³è´¡çŒ®ä»£ç æ”¹è¿›

éƒ½å¾ˆæ¬¢è¿åœ¨ GitHub ä¸Šå‚ä¸è®¨è®ºï¼

---

## ğŸ“ ç›¸å…³é“¾æ¥

[![npm version](https://badge.fury.io/js/robot-admin-env-manager.svg)](https://www.npmjs.com/package/robot-admin-env-manager)
[![GitHub stars](https://img.shields.io/github/stars/ChenyCHENYU/robot-admin-env-manager?style=social)](https://github.com/ChenyCHENYU/robot-admin-env-manager)

å¦‚æœè¿™ä¸ªå·¥å…·è§£å†³äº†ä½ çš„ç¯å¢ƒé…ç½®çƒ¦æ¼ï¼Œç»™ä¸ª star æ”¯æŒä¸€ä¸‹å§ â­

[GitHub ä»“åº“](https://github.com/ChenyCHENYU/robot-admin-env-manager) â€¢ [NPM åŒ…](https://www.npmjs.com/package/robot-admin-env-manager) â€¢ [é—®é¢˜åé¦ˆ](https://github.com/ChenyCHENYU/robot-admin-env-manager/issues)
