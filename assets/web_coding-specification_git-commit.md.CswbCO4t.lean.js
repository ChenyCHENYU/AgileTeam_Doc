/**
 * name: agile-team-doc
 * version: v2.1.0
 * description: æ•æ·å›¢é˜Ÿæ„å»ºçš„çº¿ä¸Šæ–‡æ¡£ï¼Œå¸Œæœ›åŒæ—¶å¸®åŠ©åˆ°å›¢é˜Ÿä¼™ä¼´å’Œç¤¾åŒºçš„å¤§å®¶
 * author: CHENY <ycyplus@gmail.com>
 * homepage: https://github.com/ChenyCHENYU/AgileTeam_Doc
 */
import{_ as i,c as a,o as n,aQ as t}from"./chunks/framework.BjhQmtN6.js";const r=JSON.parse('{"title":"å…³äº git æäº¤è§„èŒƒ","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"web/coding-specification/git-commit.md","filePath":"web/coding-specification/git-commit.md","lastUpdated":1743926801000}'),p={name:"web/coding-specification/git-commit.md"};function l(e,s,h,k,d,o){return n(),a("div",null,s[0]||(s[0]=[t(`<h1 id="å…³äº-git-æäº¤è§„èŒƒ" tabindex="-1">å…³äº git æäº¤è§„èŒƒ <a class="header-anchor" href="#å…³äº-git-æäº¤è§„èŒƒ" aria-label="Permalink to &quot;å…³äº git æäº¤è§„èŒƒ&quot;">â€‹</a></h1><blockquote><p>PSï¼šè¯¦ç»†çš„ <code>git çº¦å®šå¼æäº¤</code> å¯ç‚¹å‡»<a href="https://www.conventionalcommits.org/zh-hans/v1.0.0/" target="_blank" rel="noreferrer">è¿™é‡Œ</a> æŸ¥çœ‹</p></blockquote><h2 id="å®‰è£…ç›¸å…³ä¾èµ–å’Œå¢åŠ ç›¸å…³é…ç½®-new" tabindex="-1">å®‰è£…ç›¸å…³ä¾èµ–å’Œå¢åŠ ç›¸å…³é…ç½® ~new <a class="header-anchor" href="#å®‰è£…ç›¸å…³ä¾èµ–å’Œå¢åŠ ç›¸å…³é…ç½®-new" aria-label="Permalink to &quot;å®‰è£…ç›¸å…³ä¾èµ–å’Œå¢åŠ ç›¸å…³é…ç½® ~new&quot;">â€‹</a></h2><p>ä¸‹é¢æˆ‘ä½¿ç”¨çš„å‘½ä»¤ï¼Œéƒ½æ˜¯åŸºäº<code>bun</code>åŒ…ç®¡ç†å™¨æ¥æ‰§è¡Œçš„ï¼Œ<code>npm|pnpm|yarn</code> éƒ½æ˜¯ç±»ä¼¼ä¸€æ ·çš„ã€‚</p><div class="vp-code-group vp-adaptive-theme"><div class="tabs"><input type="radio" name="group-8yV2O" id="tab-_zwFhAm" checked><label for="tab-_zwFhAm">npm</label><input type="radio" name="group-8yV2O" id="tab-ehZaQjT"><label for="tab-ehZaQjT">yarn</label><input type="radio" name="group-8yV2O" id="tab-TLTkfFp"><label for="tab-TLTkfFp">pnpm</label><input type="radio" name="group-8yV2O" id="tab-lEabdmH"><label for="tab-lEabdmH">bun</label></div><div class="blocks"><div class="language-bash vp-adaptive-theme active"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yarn</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bun</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span></span></code></pre></div></div></div><p>1ã€ å…¨å±€å®‰è£… commitizen</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bun</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commitizen@4.2.4</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span></span></code></pre></div><p>2ã€é¡¹ç›®å®‰è£… cz-customizable</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bun</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> cz-customizable@6.3.0</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span></span></code></pre></div><p>3ã€ æ·»åŠ ä»¥ä¸‹é…ç½®åˆ° package.json ä¸­</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;config&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">    &quot;commitizen&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      &quot;path&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;node_modules/cz-customizable&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span></code></pre></div><p>4ã€é¡¹ç›®æ ¹ç›®å½•ä¸‹åˆ›å»º<code>.cz-config.js</code> è‡ªå®šä¹‰æç¤ºæ–‡ä»¶</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  scopes: [],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  allowEmptyScopes: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  allowCustomScopes: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //MARK: å¯é€‰ç±»å‹</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  types: [</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { value: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;wip&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;wip:      å¼€å‘ä¸­&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { value: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;feat&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;feat:     æ–°åŠŸèƒ½&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { value: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;fix&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;fix:      bugä¿®å¤&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { value: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;docs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;docs:     æ–‡æ¡£å˜æ›´&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { value: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;style&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;style:    ä»£ç æ ¼å¼|æ ·å¼(ä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨)&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      value: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;refactor&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;refactor: é‡æ„(æ—¢ä¸æ˜¯å¢åŠ featureï¼Œä¹Ÿä¸æ˜¯ä¿®å¤bug)&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { value: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;perf&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;perf:     æ€§èƒ½ä¼˜åŒ–&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { value: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;test&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;test:     å¢åŠ æµ‹è¯•&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { value: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;chore&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;chore:    æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { value: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;revert&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;revert:   å›é€€&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    { value: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;build&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, name: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;build:    æ‰“åŒ…&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //MARK: æ¶ˆæ¯æ­¥éª¤</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  messages: {</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    type: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;è¯·é€‰æ‹©æäº¤ç±»å‹:&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    customScope: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;è¯·è¾“å…¥ä¿®æ”¹èŒƒå›´(å¿…å¡«ï¼Œæ ¼å¼å¦‚ï¼šçˆ¶æ¨¡å—/å­æ¨¡å—):</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    subject: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;è¯·ç®€è¦æè¿°æäº¤(å¿…å¡«ï¼Œä¸­æ–‡è¡¨è¿°):&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    body: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;è¯·è¾“å…¥ä¿®æ”¹èŒƒå›´(å¿…å¡«ï¼Œæ ¼å¼å¦‚ï¼šä¸€çº§æ¨¡å—åç§°/äºŒçº§æ¨¡å—åç§°):</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\n</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    footer: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;è¯·è¾“å…¥è¦å…³é—­çš„issue(å¯é€‰):&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    confirmCommit: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;CodeMasterè¦åšæ£€æŸ¥ï¼Œç¡®è®¤ä½¿ç”¨ä»¥ä¸Šä¿¡æ¯æäº¤ï¼Ÿ(y/n/e/h)&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //MARK: è·³è¿‡é—®é¢˜</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  skipQuestions: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;body&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;footer&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  //MARK: subjectæ–‡å­—é•¿åº¦é»˜è®¤æ˜¯72</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  subjectLimit: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">72</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>ğŸ‘‰ è¿™é‡Œæœ‰ä¸ªæ³¨æ„ç‚¹ï¼Œè¦ä½¿ç”¨ git cz éªŒè¯çš„æ—¶å€™ï¼Œéœ€è¦å‰”é™¤ <code>package.json</code> æ–‡ä»¶ä¸­çš„ &quot;type&quot;: &quot;module&quot;ï¼Œå¦åˆ™æ‰¾ä¸åˆ°æ¨¡å—ï¼Œå› ä¸ºåº“æ˜¯åŸºäº CJS è§„èŒƒç¼–å†™çš„ã€‚</p><h2 id="å…³äº-git-hooks-new" tabindex="-1">å…³äº git hooks ~new <a class="header-anchor" href="#å…³äº-git-hooks-new" aria-label="Permalink to &quot;å…³äº git hooks ~new&quot;">â€‹</a></h2><blockquote><p>PSï¼šè¯¦ç»†çš„ <code>HOOKSä»‹ç»</code> å¯ç‚¹å‡»<a href="https://git-scm.com/docs/githooks" target="_blank" rel="noreferrer">è¿™é‡Œ</a>æŸ¥çœ‹</p></blockquote><table tabindex="0"><thead><tr><th style="text-align:left;">Git Hook</th><th>è°ƒç”¨æ—¶æœº</th><th>è¯´æ˜</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>pre-commit</strong></td><td><code>git commit</code>æ‰§è¡Œå‰<br>å®ƒä¸æ¥å—ä»»ä½•å‚æ•°ï¼Œå¹¶ä¸”åœ¨è·å–æäº¤æ—¥å¿—æ¶ˆæ¯å¹¶è¿›è¡Œæäº¤ä¹‹å‰è¢«è°ƒç”¨ã€‚è„šæœ¬<code>git commit</code>ä»¥éé›¶çŠ¶æ€é€€å‡ºä¼šå¯¼è‡´å‘½ä»¤åœ¨åˆ›å»ºæäº¤ä¹‹å‰ä¸­æ­¢ã€‚</td><td>å¯ä»¥ç”¨<code>git commit --no-verify</code>ç»•è¿‡</td></tr><tr><td style="text-align:left;"><strong>commit-msg</strong></td><td><code>git commit</code>æ‰§è¡Œå‰<br>å¯ç”¨äºå°†æ¶ˆæ¯è§„èŒƒåŒ–ä¸ºæŸç§é¡¹ç›®æ ‡å‡†æ ¼å¼ã€‚<br>è¿˜å¯ç”¨äºåœ¨æ£€æŸ¥æ¶ˆæ¯æ–‡ä»¶åæ‹’ç»æäº¤ã€‚</td><td>å¯ä»¥ç”¨<code>git commit --no-verify</code>ç»•è¿‡</td></tr></tbody></table><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><code>commit-msg</code>ï¼šå¯ä»¥ç”¨æ¥è§„èŒƒåŒ–æ ‡å‡†æ ¼å¼ï¼Œå¹¶ä¸”å¯ä»¥æŒ‰éœ€æŒ‡å®šæ˜¯å¦è¦æ‹’ç»æœ¬æ¬¡æäº¤<br><code>pre-commit</code>ï¼šä¼šåœ¨æäº¤å‰è¢«è°ƒç”¨ï¼Œå¹¶ä¸”å¯ä»¥æŒ‰éœ€æŒ‡å®šæ˜¯å¦è¦æ‹’ç»æœ¬æ¬¡æäº¤</p></div><p>è€Œæˆ‘ä»¬æ¥ä¸‹æ¥è¦åšçš„å…³é”®ï¼Œå°±åœ¨è¿™ä¸¤ä¸ªé’©å­ä¸Šé¢ã€‚</p><h2 id="ä½¿ç”¨-husky-commitlint-new" tabindex="-1">ä½¿ç”¨ husky + commitlint ~new <a class="header-anchor" href="#ä½¿ç”¨-husky-commitlint-new" aria-label="Permalink to &quot;ä½¿ç”¨ husky + commitlint ~new&quot;">â€‹</a></h2><p>æ£€æŸ¥æäº¤æè¿°æ˜¯å¦ç¬¦åˆè§„èŒƒè¦æ±‚ï¼Œè¦å®Œæˆè¿™ä¹ˆä¸ªç›®æ ‡ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦ä½¿ç”¨ä¸¤ä¸ªå·¥å…·ï¼š</p><p>1ã€<a href="https://github.com/conventional-changelog/commitlint" target="_blank" rel="noreferrer">commitlint</a>ï¼šç”¨äºæ£€æŸ¥æäº¤ä¿¡æ¯</p><p>2ã€ <a href="https://github.com/typicode/husky" target="_blank" rel="noreferrer">husky</a>ï¼šæ˜¯<code>git hooks</code>å·¥å…·</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>æ³¨æ„ï¼š<strong><code>npm</code> éœ€è¦åœ¨ 7.x ä»¥ä¸Šç‰ˆæœ¬ï¼ï¼ï¼ï¼ï¼</strong></p></div><h3 id="commitlint" tabindex="-1">commitlint <a class="header-anchor" href="#commitlint" aria-label="Permalink to &quot;commitlint&quot;">â€‹</a></h3><ol><li><p>å®‰è£…ä¾èµ–ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bun</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  --save-dev</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @commitlint/config-conventional@12.1.4</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> @commitlint/cli@12.1.4</span></span></code></pre></div></li><li><p>åˆ›å»º <code>commitlint.config.js</code> æ–‡ä»¶</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">echo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;module.exports = {extends: [&#39;@commitlint/config-conventional&#39;]}&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commitlint.config.js</span></span></code></pre></div></li><li><p>æ‰“å¼€ <code>commitlint.config.js</code> ï¼Œ å¢åŠ é…ç½®é¡¹ï¼ˆ <a href="https://github.com/conventional-changelog/commitlint/blob/master/@commitlint/config-conventional/index.js" target="_blank" rel="noreferrer">config-conventional é»˜è®¤é…ç½®ç‚¹å‡»å¯æŸ¥çœ‹</a> ï¼‰ï¼š</p></li></ol><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">module</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">.</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">exports</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // ç»§æ‰¿çš„è§„åˆ™</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  extends: [</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;@commitlint/config-conventional&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å®šä¹‰è§„åˆ™ç±»å‹</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  rules: {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // type ç±»å‹å®šä¹‰ï¼Œè¡¨ç¤º git æäº¤çš„ type å¿…é¡»åœ¨ä»¥ä¸‹ç±»å‹èŒƒå›´å†…</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;type-enum&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">      2</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &#39;always&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &#39;wip&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">//å¼€å‘ä¸­</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &#39;feat&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ–°åŠŸèƒ½ feature</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &#39;fix&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä¿®å¤ bug</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &#39;docs&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ–‡æ¡£æ³¨é‡Š</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &#39;style&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// ä»£ç æ ¼å¼(ä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &#39;refactor&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// é‡æ„(æ—¢ä¸å¢åŠ æ–°åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®å¤bug)</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &#39;perf&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ€§èƒ½ä¼˜åŒ–</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &#39;test&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å¢åŠ æµ‹è¯•</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &#39;chore&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &#39;revert&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// å›é€€</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">        &#39;build&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// æ‰“åŒ…</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">      ],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ],</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">    // subject å¤§å°å†™ä¸åšæ ¡éªŒ</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;subject-case&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">],</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  },</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><strong>æ³¨æ„ï¼šç¡®ä¿ä¿å­˜ä¸º <code>UTF-8</code> çš„ç¼–ç æ ¼å¼</strong>ï¼Œå¦åˆ™å¯èƒ½ä¼šå‡ºç°é”™è¯¯ï¼›å¹¶ä¸”æ³¨æ„ä¸Šé¢çš„æ•°ç»„ä¸­çš„é…ç½®è¦è·Ÿ <code>.cz-config.js</code> ä¸­çš„é…ç½®ä¸€è‡´ã€‚</p></div><h3 id="husky" tabindex="-1">husky <a class="header-anchor" href="#husky" aria-label="Permalink to &quot;husky&quot;">â€‹</a></h3><p>1ã€å®‰è£…ä¾èµ–ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>bun add husky@7.0.1 --save-dev</span></span></code></pre></div><p>2ã€å¯åŠ¨ <code>hooks</code> ï¼Œ æ ¹ç›®å½•ä¸‹ç”Ÿæˆ <code>.husky</code> æ–‡ä»¶å¤¹</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>bunx husky install</span></span></code></pre></div><p>3ã€åœ¨ <code>package.json</code> ä¸­ç”Ÿæˆ <code>prepare</code> æŒ‡ä»¤ï¼ˆ <strong>éœ€è¦ npm &gt; 7.0 ç‰ˆæœ¬</strong> ï¼‰</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>bun set-script prepare &quot;husky install&quot;</span></span></code></pre></div><p>æˆ–è€…æ‰‹åŠ¨æ·»åŠ å¦‚ä¸‹å‘½ä»¤ï¼š</p><div class="language-json vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">json</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"># package.json</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;scripts&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:{</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  // å¢åŠ å¦‚ä¸‹ä»£ç ...</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">  &quot;prepare&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;husky install&quot;</span><span style="--shiki-light:#B31D28;--shiki-light-font-style:italic;--shiki-dark:#FDAEB7;--shiki-dark-font-style:italic;">   +</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><p>4ã€æ‰§è¡Œ <code>prepare</code> æŒ‡ä»¤éªŒè¯</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bun</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> prepare</span></span></code></pre></div><p>5ã€æ·»åŠ  <code>commitlint</code> çš„ <code>hook</code> åˆ° <code>husky</code>ä¸­ï¼Œå¹¶æŒ‡ä»¤åœ¨ <code>commit-msg</code> çš„ <code>hooks</code> ä¸‹æ‰§è¡Œ <code>npx husky add .husky/commit-msg &#39;bunx --no-install commitlint --edit &quot;$1&quot;&#39;</code> æŒ‡ä»¤</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> husky</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .husky/commit-msg</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;npx --no-install commitlint --edit &quot;$1&quot;&#39;</span></span></code></pre></div><p>è‡³æ­¤ï¼Œ ä¸ç¬¦åˆè§„èŒƒçš„ commit å°†ä¸å†å¯æäº¤ï¼š</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>PS F:\\xxxxxxxxxxxxxxxxxxxxx\\imooc-admin&gt; git commit -m &quot;æµ‹è¯•&quot;</span></span>
<span class="line"><span>â§—   input: æµ‹è¯•</span></span>
<span class="line"><span>âœ–   subject may not be empty [subject-empty]</span></span>
<span class="line"><span>âœ–   type may not be empty [type-empty]</span></span>
<span class="line"><span></span></span>
<span class="line"><span>âœ–   found 2 problems, 0 warnings</span></span>
<span class="line"><span>â“˜   Get help: https://github.com/conventional-changelog/commitlint/#what-is-commitlint</span></span>
<span class="line"><span></span></span>
<span class="line"><span>husky - commit-msg hook exited with code 1 (error)</span></span></code></pre></div><p>ç°åœ¨æˆ‘ä»¬è¿˜ç¼ºå°‘ä¸€ä¸ª <strong>è§„èŒƒåŒ–çš„å¤„ç†</strong> ï¼Œé‚£å°±æ˜¯ <strong>ä»£ç æ ¼å¼æäº¤è§„èŒƒå¤„ç†ï¼</strong></p><h3 id="é€šè¿‡-pre-commit-æ£€æµ‹æäº¤æ—¶ä»£ç è§„èŒƒ" tabindex="-1">é€šè¿‡ pre-commit æ£€æµ‹æäº¤æ—¶ä»£ç è§„èŒƒ <a class="header-anchor" href="#é€šè¿‡-pre-commit-æ£€æµ‹æäº¤æ—¶ä»£ç è§„èŒƒ" aria-label="Permalink to &quot;é€šè¿‡ pre-commit æ£€æµ‹æäº¤æ—¶ä»£ç è§„èŒƒ&quot;">â€‹</a></h3><p>åœ¨ <strong><code>ESLint</code> ä¸ <code>Prettier</code> é…åˆè§£å†³ä»£ç æ ¼å¼é—®é¢˜</strong>ï¼Œä½†æ˜¯è¿™æ ·çš„ä¸€ä¸ªæ ¼å¼å¤„ç†é—®é¢˜ï¼Œä»–åªèƒ½å¤Ÿåœ¨æœ¬åœ°è¿›è¡Œå¤„ç†ï¼Œå¹¶ä¸”æˆ‘ä»¬è¿˜éœ€è¦ <strong>æ‰‹åŠ¨åœ¨ <code>VSCode</code> ä¸­é…ç½®è‡ªåŠ¨ä¿å­˜</strong> æ‰å¯ä»¥ã€‚é‚£ä¹ˆè¿™æ ·å°±ä¼šå­˜åœ¨ä¸€ä¸ªé—®é¢˜ï¼Œè¦æ˜¯æœ‰äººå¿˜è®°é…ç½®è¿™ä¸ªä¸œè¥¿äº†æ€ä¹ˆåŠå‘¢ï¼Ÿä»–æŠŠä»£ç å†™çš„ä¹±ä¸ƒå…«ç³Ÿçš„ç›´æ¥å°±æäº¤äº†æ€ä¹ˆåŠå‘¢ï¼Ÿ</p><p>é‚£ä¹ˆæƒ³è¦è§„é¿è¿™ä¹ˆä¸€ä¸ªé£é™©æ“ä½œå°±éœ€è¦ä½¿ç”¨ <code>husky</code> é…åˆ <code>eslint</code> æ‰å¯ä»¥å®ç°ã€‚</p><div class="tip custom-block"><p class="custom-block-title">ğŸ‘€</p><p>æˆ‘ä»¬æœŸæœ›é€šè¿‡ <strong><code>husky</code> ç›‘æµ‹ <code>pre-commit</code> é’©å­ï¼Œåœ¨è¯¥é’©å­ä¸‹æ‰§è¡Œ <code>bunx eslint --ext .js,.vue,.ts,.tsx src</code></strong> æŒ‡ä»¤æ¥å»è¿›è¡Œç›¸å…³æ£€æµ‹ï¼š</p></div><p>1ã€æ‰§è¡Œ <code>npx husky add .husky/pre-commit &quot;bunx eslint --ext .js,.vue,.ts,.tsx src&quot;</code> æ·»åŠ  <code>commit</code> æ—¶çš„ <code>hook</code> ï¼ˆ<code>bunx eslint --ext .js,.vue,.ts,.tsx src</code> ä¼šåœ¨æ‰§è¡Œåˆ°è¯¥ hook æ—¶è¿è¡Œï¼‰</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> husky</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .husky/pre-commit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;bunx eslint --ext .js,.vue,.ts,.tsx src&quot;</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title"><code>pre-commit</code>æ¨èé…ç½®ï¼š</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#!/usr/bin/env sh</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">.</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dirname</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;)/_/husky.sh&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ç¬¬ä¸€é˜¶æ®µï¼šå¿«é€Ÿæ£€æŸ¥ï¼ˆ100ms çº§åˆ«ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bunx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> oxlint</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --max-warnings</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># ç¬¬äºŒé˜¶æ®µï¼šæ·±åº¦æ£€æŸ¥ï¼ˆç§’çº§ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bunx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> eslint</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --ext</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> .js,.vue,.ts,.tsx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> src</span></span></code></pre></div></div><p>ç„¶åæ ¹æ®é…ç½®çš„çº¦æŸè§„èŒƒï¼Œæ‰§è¡Œæµ‹è¯•æ•ˆæœã€‚</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">PS</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> F:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\x</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">xxxxxxxxxxxxxxxxxx</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">\\i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">mooc-admi</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> commit</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -m</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;test&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">F:\\xxxxxxxxxxxxxxxx\\imooc-admin\\src\\views\\Home.vue</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">13:9</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  error</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  Strings</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> must</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> use</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> singlequote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  quotes</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">âœ–</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> problem</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (1 </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">error,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> warnings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> error</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> and</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> warnings</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> potentially</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> fixable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> the</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">--fix</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">\`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> option.</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">husky</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> -</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pre-commit</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hook</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> exited</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> with</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> code</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 1</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> (error)</span></span></code></pre></div><h3 id="lint-staged-è‡ªåŠ¨ä¿®å¤æ ¼å¼é”™è¯¯" tabindex="-1">lint-staged è‡ªåŠ¨ä¿®å¤æ ¼å¼é”™è¯¯ <a class="header-anchor" href="#lint-staged-è‡ªåŠ¨ä¿®å¤æ ¼å¼é”™è¯¯" aria-label="Permalink to &quot;lint-staged è‡ªåŠ¨ä¿®å¤æ ¼å¼é”™è¯¯&quot;">â€‹</a></h3><p><code>pre-commit</code> å¤„ç†äº†æ£€æµ‹ä»£ç æäº¤è§„èŒƒé—®é¢˜ï¼Œå½“è¿›è¡Œä»£ç æäº¤æ—¶ï¼Œä¼šæ£€æµ‹æ‰€æœ‰çš„ä»£ç æ ¼å¼è§„èŒƒã€‚</p><p><strong>ä½†æ˜¯è¿™æ ·ä¼šå­˜åœ¨ä¸¤ä¸ªé—®é¢˜ï¼š</strong></p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>- åªä¿®æ”¹äº†ä¸ªåˆ«çš„æ–‡ä»¶ï¼Œæ²¡æœ‰å¿…è¦æ£€æµ‹æ‰€æœ‰çš„æ–‡ä»¶ä»£ç æ ¼å¼ï¼›<br> - å®ƒåªèƒ½ç»™æç¤ºå‡ºå¯¹åº”çš„é”™è¯¯ï¼Œè¿˜éœ€è¦æ‰‹åŠ¨çš„è¿›è¡Œä»£ç ä¿®æ”¹ã€‚</p></div><p>é‚£ä¹ˆæƒ³è¦å¤„ç†è¿™ä¸¤ä¸ªé—®é¢˜ï¼Œå°±éœ€è¦ä½¿ç”¨å¦å¤–ä¸€ä¸ªæ’ä»¶ <a href="https://github.com/okonet/lint-staged" target="_blank" rel="noreferrer">lint-staged</a> ï¼</p><p>å®‰è£…ï¼Œ<code>lint-staged</code> æ˜¯ä¸€ä¸ª <code>git hooks</code> å·¥å…·ï¼Œå®ƒå¯ä»¥åœ¨ <code>git commit</code> ä¹‹å‰ï¼Œå¯¹ä»£ç è¿›è¡Œæ ¼å¼åŒ–å’Œæ£€æŸ¥ã€‚</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">bun</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lint-staged</span></span></code></pre></div><p>1ã€ ä¿®æ”¹ <code>package.json</code> é…ç½®</p><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;lint-staged&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: {</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;src/**/*.{js,jsx,ts,tsx,vue}&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;eslint --fix&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;git add&quot;</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  }</span></span></code></pre></div><p>2ã€å¦‚ä¸Šé…ç½®ï¼Œæ¯æ¬¡å®ƒåªä¼šåœ¨æœ¬åœ° <code>commit</code> ä¹‹å‰ï¼Œæ ¡éªŒæäº¤çš„å†…å®¹æ˜¯å¦ç¬¦åˆæœ¬åœ°é…ç½®çš„ <code>eslint</code>è§„åˆ™ï¼ˆè¿™ä¸ªè§æ–‡æ¡£ <a href="https://panjiachen.github.io/vue-element-admin-site/zh/guide/advanced/eslint.html" target="_blank" rel="noreferrer">ESLint</a> )ï¼Œæ ¡éªŒä¼šå‡ºç°ä¸¤ç§ç»“æœï¼š</p><div class="warning custom-block"><p class="custom-block-title">WARNING</p><p>1ã€å¦‚æœç¬¦åˆè§„åˆ™ï¼šåˆ™ä¼šæäº¤æˆåŠŸï¼›<br> 2ã€å¦‚æœä¸ç¬¦åˆè§„åˆ™ï¼šå®ƒä¼šè‡ªåŠ¨æ‰§è¡Œ <code>eslint --fix</code> å°è¯•è‡ªåŠ¨ä¿®å¤ï¼Œå¦‚æœä¿®å¤æˆåŠŸåˆ™ä¼šæŠŠä¿®å¤å¥½çš„ä»£ç æäº¤ï¼Œå¦‚æœå¤±è´¥ï¼Œåˆ™ä¼šæç¤ºé”™è¯¯ï¼Œéœ€æ‰‹åŠ¨ä¿®å¥½è¿™ä¸ªé”™è¯¯ä¹‹åæ‰èƒ½å…è®¸æäº¤ä»£ç ã€‚</p></div><p>3ã€ä¿®æ”¹ <code>.husky/pre-commit</code> æ–‡ä»¶</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> #!/bin/sh</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> .</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;$(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dirname</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">$0</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;)/_/husky.sh&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> bunx</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> lint-staged</span></span></code></pre></div><h2 id="ç›®å½•è§„èŒƒ" tabindex="-1">ç›®å½•è§„èŒƒ <a class="header-anchor" href="#ç›®å½•è§„èŒƒ" aria-label="Permalink to &quot;ç›®å½•è§„èŒƒ&quot;">â€‹</a></h2><h4 id="vue-é¡¹ç›®ç»„ä»¶ç»“æ„è®¾ç½®" tabindex="-1"><code>vue</code> é¡¹ç›®ç»„ä»¶ç»“æ„è®¾ç½® <a class="header-anchor" href="#vue-é¡¹ç›®ç»„ä»¶ç»“æ„è®¾ç½®" aria-label="Permalink to &quot;\`vue\` é¡¹ç›®ç»„ä»¶ç»“æ„è®¾ç½®&quot;">â€‹</a></h4><div class="info custom-block"><p class="custom-block-title">ç›®å½•ç»“æ„</p><p>src/<br> â”œâ”€â”€ components/<br> â”‚ â”œâ”€â”€ global/ # å…¨å±€ç»„ä»¶ (è‡ªåŠ¨æ³¨å†Œ)<br> â”‚ â”‚ â””â”€â”€ C_Button.vue<br> â”‚ â””â”€â”€ local/ # æœ¬åœ°ç»„ä»¶ (æ‰‹åŠ¨å¯¼å…¥)<br> â”‚ â””â”€â”€ c_Table.vue<br> â””â”€â”€ plugins/<br> â””â”€â”€ components.ts # è‡ªåŠ¨æ³¨å†Œé…ç½®</p></div>`,69)]))}const g=i(p,[["render",l]]);export{r as __pageData,g as default};
