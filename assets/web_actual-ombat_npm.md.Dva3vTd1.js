/**
 * name: agile-team-doc
 * version: v2.1.0
 * description: 敏捷团队构建的线上文档，希望同时帮助到团队伙伴和社区的大家
 * author: CHENY <ycyplus@gmail.com>
 * homepage: undefined
 */
import{_ as k,C as e,c as d,o as F,aQ as n,G as t,j as s,w as h,a as i}from"./chunks/framework.BjhQmtN6.js";const B=JSON.parse('{"title":"Npm、Nvm、Yarn、Pnpm 的高效使用","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"web/actual-ombat/npm.md","filePath":"web/actual-ombat/npm.md","lastUpdated":1732265191000}'),r={name:"web/actual-ombat/npm.md"};function g(o,a,y,c,C,m){const l=e("ElCard"),p=e("ElImg");return F(),d("div",null,[a[3]||(a[3]=n('<h1 id="npm、nvm、yarn、pnpm-的高效使用" tabindex="-1">Npm、Nvm、Yarn、Pnpm 的高效使用 <a class="header-anchor" href="#npm、nvm、yarn、pnpm-的高效使用" aria-label="Permalink to &quot;Npm、Nvm、Yarn、Pnpm 的高效使用&quot;">​</a></h1><p>对于包管理器的使用，掌握这些就够了。</p><h2 id="npm" tabindex="-1">Npm <a class="header-anchor" href="#npm" aria-label="Permalink to &quot;Npm&quot;">​</a></h2><blockquote><p>npm 全称为 Node Package Manager，是一个基于 Node.js 的包管理器，也是 Node.js 社区最流行、支持的第三方模块最多的包管理器。它的初衷就是让开发人员更容易分享和重用代码。npm 提供了命令行工具，其主要功能是管理 Node.js 包，包括安装、更新、删除、查看、搜索、发布等。 ​</p></blockquote><p>npm 最初只是 Node.js 的包管理器，但随着前端技术的不断发展，它的定位变成了广义的包管理器，可以实现 <strong>JavaScript、React、Vue、Gulp</strong> 移动开发等包管理，是目前最大、生态最为健全的包管理器。</p><p><code>npm</code> 能解决 <code>Node.js</code> 在模块管理上的很多问题，其常见的应用场景如下：</p>',6)),t(l,{shadow:"hover"},{default:h(()=>a[0]||(a[0]=[s("ul",null,[s("li",null,[i("从 "),s("code",null,"npm"),i(" 镜像服务器下载第三方模块；")]),s("li",null,[i("从 "),s("code",null,"npm"),i(" 镜像服务器下载并安装命令行程序到本地；")]),s("li",null,[i("自己发布模块到 "),s("code",null,"npm"),i(" 镜像服务器供他人使用。")])],-1)])),_:1,__:[0]}),a[4]||(a[4]=n(`<p>👀 <code>npm</code> 不需要单独安装，在安装 <code>Node.js</code> 时，就会连带着一起安装 <code>npm</code> 了。</p><h3 id="常用的-npm-命令" tabindex="-1">常用的 npm 命令 <a class="header-anchor" href="#常用的-npm-命令" aria-label="Permalink to &quot;常用的 npm 命令&quot;">​</a></h3><table tabindex="0"><thead><tr><th style="text-align:left;">命令 <img width="248"></th><th style="text-align:left;">作用</th></tr></thead><tbody><tr><td style="text-align:left;">npm -v</td><td style="text-align:left;">查看 npm 版本</td></tr><tr><td style="text-align:left;">npm init</td><td style="text-align:left;">初始化后会出现一个 package.json 配置文件，可以在后面加上 -y 参数，快速跳过问答界面</td></tr><tr><td style="text-align:left;">npm install</td><td style="text-align:left;">根据项目中的 package.json 文件自动下载项目所需的全部依赖</td></tr><tr><td style="text-align:left;">npm install 包名 --save-dev</td><td style="text-align:left;">--save-dev 可以简写为 -D，安装的包只用于开发环境，会会出现在 package.json 文件的 devDependencies 属性中</td></tr><tr><td style="text-align:left;">npm install 包名 --save</td><td style="text-align:left;">安装的包需要发布到生产环境，会出现在 package.json 文件的 dependencies 属性中</td></tr><tr><td style="text-align:left;">npm list</td><td style="text-align:left;">查看当前目录下已安装的 node 包</td></tr><tr><td style="text-align:left;">npm list -g</td><td style="text-align:left;">查看全局安装的 node 包 Undefined</td></tr><tr><td style="text-align:left;">npm updated 包名</td><td style="text-align:left;">更新指定的包</td></tr><tr><td style="text-align:left;">npm uninstall 包名</td><td style="text-align:left;">卸载指定的包</td></tr><tr><td style="text-align:left;">npm config list</td><td style="text-align:left;">查看配置信息</td></tr><tr><td style="text-align:left;">npm info 指定包名</td><td style="text-align:left;">查看远程 npm 上指定包的所有版本信息</td></tr><tr><td style="text-align:left;">npm config set registry 镜像地址</td><td style="text-align:left;">设置和修改包资源下载的镜像源</td></tr><tr><td style="text-align:left;">npm root</td><td style="text-align:left;">查看当前包的安装路径</td></tr><tr><td style="text-align:left;">npm root -g</td><td style="text-align:left;">查看全局包的安装路径</td></tr><tr><td style="text-align:left;">npm ls 包名</td><td style="text-align:left;">查看本地安装的指定包及版本信息，没有显示 empty</td></tr><tr><td style="text-align:left;">npm ls 包名 -g</td><td style="text-align:left;">查看全局安装的指定包及版本信息，没有显示 empty</td></tr></tbody></table><p><strong>下面重点介绍几个命令</strong></p><p>当要使用一个包时，如果想要了解它是如何使用的，可以使用以下命令来打开这个包的主页，它会自动启动浏览器并打开这个页面，这里以 Vue 为例。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vue</span></span></code></pre></div><p>查看这个包有哪些问题，现存的 issue，或者公开的 roadmap。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> bugs</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vue</span></span></code></pre></div><p>查看这个包的代码地址。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> repo</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vue</span></span></code></pre></div><p>查看包的描述信息。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> info</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> react</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> description</span></span></code></pre></div><h4 id="npm-install" tabindex="-1">npm install <a class="header-anchor" href="#npm-install" aria-label="Permalink to &quot;npm install&quot;">​</a></h4><p>使用 <code>npm install</code> 命令来安装需要的包，如果想把这个包自动添加到 <code>package.json</code> 中。</p><div class="tip custom-block"><p class="custom-block-title">TIP</p><p><code>npm install</code> 等同于 <code>npm install vue --save</code>，等同于 <code>npm install vue -S</code>，推荐简写。<br><code>npm install vue@latest</code> 安装最新版本。<br><code>npm install vue@2.6.4</code> 安装指定版本。<br><code>npm install react@&quot;&gt;=2.5.0 &lt;2.6.4&quot;</code> 安装指定区间版本。</p></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> vue</span></span></code></pre></div><p>在执行 <code>npm install</code> 命令时，npm 5 之前只会下载，不会保存依赖信息。如果需要保存，就需要加上 <code>--save</code> 选项， <strong>npm 5</strong> 以后就可以省略 <code>--save</code> 选项了，它会自动保存，放心使用。</p><h4 id="update-和-uninstall" tabindex="-1">update 和 uninstall <a class="header-anchor" href="#update-和-uninstall" aria-label="Permalink to &quot;update 和 uninstall&quot;">​</a></h4><p>用来更新或删依赖版本，想要更新全局安装的模块，需要添加参数 <code>-global</code>。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 更新包</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [package </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">name]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [package </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">name]</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 删除包</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uninstall</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [package </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">name]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uninstall</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [package </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">name]</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -global</span></span></code></pre></div><p>🔔 从 <code>npm v2.6.1</code> 开始，<code>npm update</code> 只会更新顶层的模块，而不更新依赖的依赖模块，而之前的版本是递归更新的。如果想要这种效果，可以使用以下命令：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --depth</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 9999</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span></code></pre></div><h4 id="npm-v" tabindex="-1">npm v <a class="header-anchor" href="#npm-v" aria-label="Permalink to &quot;npm v&quot;">​</a></h4><p>检查 <code>npm</code> 包的最新版本。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 展示包的信息</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> view</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">package-nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">package-nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 展示最新版本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">package-nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> version</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 展示所有版本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">package-nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> versions</span></span></code></pre></div><h4 id="npm-run" tabindex="-1">npm run <a class="header-anchor" href="#npm-run" aria-label="Permalink to &quot;npm run&quot;">​</a></h4><p><code>npm</code> 不仅可以用于管理模块，还可以用于执行脚本。 在 <code>package.json</code> 文件中有一个 <code>scripts</code> 字段，可以用于定义脚本命令，供 <code>npm</code> 使用。除了可以在 package.json 文件中查看有哪些命令，也可以使用 <code>npm run</code> 命令来查看所有脚本命令。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span></span></code></pre></div><h4 id="npm-dedupe-和-npm-ddp" tabindex="-1">npm dedupe 和 npm ddp <a class="header-anchor" href="#npm-dedupe-和-npm-ddp" aria-label="Permalink to &quot;npm dedupe 和 npm ddp&quot;">​</a></h4><p>可以通过运行 <code>npm dedupe</code> 命令来删除重复的依赖项。该命令通过删除重复包并在多个依赖包之间共享公共依赖项来简化整体的结构。它会产生一个扁平的、去重的树。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ddp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> dedupe</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 的简写</span></span></code></pre></div><h3 id="镜像源设置" tabindex="-1">镜像源设置 <a class="header-anchor" href="#镜像源设置" aria-label="Permalink to &quot;镜像源设置&quot;">​</a></h3><p>用来解决国内 NPM 安装依赖速度慢问题，这里使用的淘宝的镜像源。</p><h4 id="淘宝源" tabindex="-1">淘宝源 <a class="header-anchor" href="#淘宝源" aria-label="Permalink to &quot;淘宝源&quot;">​</a></h4><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>NPM 淘宝镜像源地址已经切换至 <a href="https://registry.npmmirror.com/binary.html?path=npm/" target="_blank" rel="noreferrer">https://registry.npmmirror.com/binary.html?path=npm/</a></p></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> registry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://registry.npmmirror.com/</span></span></code></pre></div><p>查看当前镜像源。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> registry</span></span></code></pre></div><p>如果需要发布自己的 npm 包，需要将源设置回来。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> registry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> http://registry.npmjs.org</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>有时候会发现，安装依赖出现卡死情况，可能是用了无效代理的原因，记得清除。</p></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> proxy</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https-proxy</span></span></code></pre></div><h4 id="nrm-多源管理" tabindex="-1">nrm 多源管理 <a class="header-anchor" href="#nrm-多源管理" aria-label="Permalink to &quot;nrm 多源管理&quot;">​</a></h4><p>如果需要管理多个镜像源，可以查看 <a href="https://github.com/Pana/nrm" target="_blank" rel="noreferrer">nrm</a> 使用，<code>nrm</code> 是一个 <code>npm</code> 源管理器，可以快速地在 <code>npm</code> 源间切换。</p><p><strong>安装 <code>nrm</code> 和它的常用命令</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> Pana/nrm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 需要通过全局安装源码</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nrm。</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nrm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ls</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 查看可选源，星号代表当前使用源，没有就</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> use</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 指定一下。</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nrm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> current</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 查看当前源，未设置不显示信息。</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nrm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> use</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">registr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 使用某个镜像源，比如</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nrm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> use</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> taobao。</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nrm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">registr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">ur</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">l</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 添加源，源名，地址。</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nrm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> del</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">registr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">   //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 删除源。</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nrm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> test</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">registr</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">y</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 测试源响应速度。</span></span></code></pre></div><h2 id="nvm" tabindex="-1">Nvm <a class="header-anchor" href="#nvm" aria-label="Permalink to &quot;Nvm&quot;">​</a></h2><h3 id="nvm-的安装" tabindex="-1">nvm 的安装 <a class="header-anchor" href="#nvm-的安装" aria-label="Permalink to &quot;nvm 的安装&quot;">​</a></h3><p>这里以 Windows 为栗，Mac 自行百度。</p><p><a href="https://github.com/coreybutler/nvm-windows/releases" target="_blank" rel="noreferrer">NVM 安装地址</a></p><p>如果电脑上之前已经单独安装了 node，先卸载，然后下载 nvm-setup.zip 后直接安装，完成后查看版本号。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -v</span></span></code></pre></div><p>可以使用国内的淘宝镜像，下载更快速，可以用上面 <code>nrm</code> 的方式，如果没安装 <code>nrm</code> ，使用以下方式也可。</p><p>找到安装目录下 <strong>settings.txt</strong>文件，换行添加两行代码。</p><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>node_mirror: https://npm.taobao.org/mirrors/node/</span></span>
<span class="line"><span>npm_mirror: https://npm.taobao.org/mirrors/npm/</span></span></code></pre></div><p>保存退出即可。</p><h3 id="nvm-的常用命令" tabindex="-1">nvm 的常用命令 <a class="header-anchor" href="#nvm-的常用命令" aria-label="Permalink to &quot;nvm 的常用命令&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> v</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                     /0/</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 显示</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 版本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ls</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                      //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 显示所有安装的</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> node.js版本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> available</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 查看源上支持可以安装的版本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">versio</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">       //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 安装指定版本的</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> node.js</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> current</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                 //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 显示当前版本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> use</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">versio</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">           //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 切换到使用指定的</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> node.js</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 版本</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> uninstall</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">versio</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">     //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 卸载指定版本的</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nodej.s，当安装失败时卸载使用</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> alias</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">versio</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> ## // 给不同的版本号添加别名</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> unalias</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">nam</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">e</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  ##      // 删除已定义的别名</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> stable</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">          //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 安装最新稳定版</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> reinstall-packages</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">versio</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">n</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">&gt;</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> ## // 当前node版本下重新全局安装指定版本号的npm包</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> on</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                      //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 启用node.js版本管理</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> off</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                     //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 禁用node.js版本管理</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">不卸载任何东西</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> proxy</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">                   //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 查看设置与代理</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> nvm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> root</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [path]             // 设置和查看root路径</span></span></code></pre></div><h2 id="yarn" tabindex="-1">Yarn <a class="header-anchor" href="#yarn" aria-label="Permalink to &quot;Yarn&quot;">​</a></h2><blockquote><p>Yarn 是由 Facebook、Google、Exponent 和 Tilde 联合推出了一个新的 JS 包管理工具 . 是为了弥补 npm 的一些缺陷而出现的。</p></blockquote><h3 id="yarn-常用命令" tabindex="-1">yarn 常用命令 <a class="header-anchor" href="#yarn-常用命令" aria-label="Permalink to &quot;yarn 常用命令&quot;">​</a></h3><p>安装 <code>yarn</code>。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> yarn</span></span></code></pre></div><p>下面列举一些常用的命令，更多了解 <a href="https://www.yarnpkg.cn/" target="_blank" rel="noreferrer">Yarn</a> 官网。</p><table tabindex="0"><thead><tr><th style="text-align:left;">命令</th><th style="text-align:left;">作用</th></tr></thead><tbody><tr><td style="text-align:left;">yarn v</td><td style="text-align:left;">查看 yarn 版本</td></tr><tr><td style="text-align:left;">yarn init</td><td style="text-align:left;">初始化某个项目</td></tr><tr><td style="text-align:left;">yarn install</td><td style="text-align:left;">安装项目依赖，精简命令 yarn</td></tr><tr><td style="text-align:left;">yarn add taco</td><td style="text-align:left;">安装某个依赖，并且默认保存到 package</td></tr><tr><td style="text-align:left;">yarn remove taco</td><td style="text-align:left;">移除某个依赖</td></tr><tr><td style="text-align:left;">yarn add taco --dev</td><td style="text-align:left;">安装某个开发时依赖</td></tr><tr><td style="text-align:left;">yarn up taco</td><td style="text-align:left;">更新某个依赖， 更新所有依赖 yarn upgrade-interactive</td></tr><tr><td style="text-align:left;">yarn global add taco</td><td style="text-align:left;">安装某个全局依赖，慎用</td></tr><tr><td style="text-align:left;">yarn publish/login/logout</td><td style="text-align:left;">发布/登录/登出，一系列 NPM Registry 操作</td></tr><tr><td style="text-align:left;">yarn run</td><td style="text-align:left;">执行脚本</td></tr><tr><td style="text-align:left;">yarn set version latest</td><td style="text-align:left;">更新 yarn 版本</td></tr></tbody></table><p>了解和满足部分 yarn 依赖项目的使用即可，更多不再赘述，下面重点介绍下 <code>pnpm</code> 的使用。</p><h2 id="pnpm-new" tabindex="-1">Pnpm ~new <a class="header-anchor" href="#pnpm-new" aria-label="Permalink to &quot;Pnpm ~new&quot;">​</a></h2><blockquote><p>Pnpm 是 Node.js 的替代包管理器。它是 Npm 的直接替代品，但速度更快、效率更高。</p></blockquote>`,68)),t(l,{shadow:"hover"},{default:h(()=>a[1]||(a[1]=[s("ul",null,[s("li",null,[s("p",null,"体验优良，依赖安装速度极快，占用磁盘空间小。")]),s("li",null,[s("p",null,"上手简单，大部分 npm / yarn 项目可以低成本完成迁移，官方也有较详尽的中文文档。")]),s("li",null,[s("p",null,"pnpm 组织 node_modules 目录的方式兼容原生 Node，与打包工具配合良好，可以很放心的使用于生产环境。")]),s("li",null,[s("p",null,"pnpm 依赖访问虽然严格，但是规则清晰，界限分明，不再如以前一样容易出现依赖冲突，反而降低了使用时的心智负担。")])],-1)])),_:1,__:[1]}),a[5]||(a[5]=n('<p>更多可以参考 <a href="https://www.pnpm.cn/motivation" target="_blank" rel="noreferrer">pnpm 中文文档</a> 进行系统了解。</p><h3 id="pnpm-的优势" tabindex="-1">pnpm 的优势 <a class="header-anchor" href="#pnpm-的优势" aria-label="Permalink to &quot;pnpm 的优势&quot;">​</a></h3><blockquote><p>Pnpm 拥有 Yarn 超过 Npm 的所有附加功能。</p></blockquote><p>当安装软件包时，会将其保存在机器上的全局存储中，然后会从中创建一个硬链接，而不是进行复制。对于模块的每个版本，磁盘上只保留一个副本。例如，当使用 <code>npm</code> 或 <code>yarn</code> 时，如果您有 100 个使用 <code>lodash</code> 的包，则磁盘上将有 100 个 <code>lodash</code> 副本。</p>',4)),t(l,{shadow:"hover"},{default:h(()=>a[2]||(a[2]=[s("ul",null,[s("li",null,[s("strong",null,"安全："),i(" 与 "),s("code",null,"yarn"),i(" 一样，"),s("code",null,"pnpm"),i(" 有一个包含所有已安装包校验和的特殊文件，用于在执行代码之前验证每个已安装包的完整性。")]),s("li",null,[s("strong",null,"离线模式："),i(),s("code",null,"pnpm"),i(" 将所有下载的包 "),s("code",null,"tarball"),i(" 保存在本地注册表镜像中。当包在本地可用时，它从不发出请求。使用该--offline 参数可以完全禁止 HTTP 请求。")]),s("li",null,[s("strong",null,"速度："),i(),s("code",null,"pnpm"),i(" 不仅比 "),s("code",null,"npm"),i(" 快，而且比 "),s("code",null,"yarn"),i(" 快。无论是冷缓存还是热缓存，它都比 "),s("code",null,"yarn"),i(),s("code",null,"快。yarn"),i(" 从缓存中复制文件，而 "),s("code",null,"pnpm"),i(" 只是从全局存储中链接它们。")])],-1)])),_:1,__:[2]}),a[6]||(a[6]=s("p",null,[i("使用 NPM 配置的项目，磁盘总大小 "),s("strong",null,"1260 MB")],-1)),t(p,{src:"img/npm-config.png",title:"npm 配置图"}),a[7]||(a[7]=s("p",null,[i("使用 PNPM 配置的项目，磁盘总大小 "),s("strong",null,"500 MB")],-1)),t(p,{src:"img/pnpm-config.png",title:"pnpm 配置图"}),a[8]||(a[8]=s("p",null,"安装依赖的速度",-1)),t(p,{src:"img/01.png",title:"安装依赖速度"}),a[9]||(a[9]=n(`<h3 id="pnpm-的使用" tabindex="-1">pnpm 的使用 <a class="header-anchor" href="#pnpm-的使用" aria-label="Permalink to &quot;pnpm 的使用&quot;">​</a></h3><p><strong>全局安装</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> npm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span></span></code></pre></div><p><strong>初始化</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> init</span></span></code></pre></div><p><strong>设置源</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 查看源</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> registry</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">//</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 切换淘宝源</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> registry</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> https://registry.npmmirror.com/</span></span></code></pre></div><p><strong>添加</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> i</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 包名称</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 添加依赖包</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 包名称</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    //</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -S</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  默认写入dependencies</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    //</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -D</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> devDependencies</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -g</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 全局添加依赖包</span></span></code></pre></div><p><strong>移除</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 包名称</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 移除包</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 包名称</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 移除全局包</span></span></code></pre></div><p><strong>更新</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> up</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 更新所有依赖项</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 包</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 更新指定包</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> upgrade</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 包</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --global</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  //</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> 更新全局包</span></span></code></pre></div><p><strong>设置存储路径</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> store-dir</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /path/to/.pnpm-store</span></span></code></pre></div><p><strong>执行</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">$</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pnpm</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> run</span></span></code></pre></div><p><code>pnpm</code> 比 <code>npm</code> 和 <code>yarn</code> 更快并且更有效地处理磁盘内存。在处理多个项目应用程序时，提供了大量的可用空间。将依赖项放在全局存储上并重用它会更有效，这是其他包管理器所忽略的。</p>`,18))])}const u=k(r,[["render",g]]);export{B as __pageData,u as default};
